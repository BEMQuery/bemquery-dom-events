/*! bemquery-dom-events v0.1.5 | (c) 2016-2017 BEMQuery team | MIT license (see LICENSE) */(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?b(require('bemquery-core')):'function'==typeof define&&define.amd?define(['bemquery-core'],b):b(a.bemquery)})(this,function(a){'use strict';const c=new class{constructor(){this.storage=new WeakMap}add(d,e,f,g,h){let j={};this.storage.has(d)&&(j=this.storage.get(d)),'undefined'==typeof j[e]&&(j[e]={}),'undefined'==typeof j[e][f]&&(j[e][f]=[]),j[e][f].push([g,h]),this.storage.set(d,j)}get(d,e,f,g){if(!this.storage.has(d))return null;const h=this.storage.get(d);if('undefined'==typeof h[e]||'undefined'==typeof h[e][f])return null;for(let j of h[e][f])if(j[0]===g)return j[1];return null}remove(d,e,f,g){if(!this.storage.has(d))return null;const h=this.storage.get(d);return'undefined'==typeof h[e]||'undefined'==typeof h[e][f]?null:(h[e][f].forEach((j,k)=>{j[0]===g&&h[e][f].splice(k,1)}),null)}};a.BEMQuery.prototype.on=function(d,e,f){let g;if('string'!=typeof d||!d)throw new TypeError('Type of event must be a non-empty string.');if('string'!=typeof e&&'function'!=typeof e||!e)throw new TypeError('Selector must be a non-empty string or function.');if('string'==typeof e){if('function'!=typeof f)throw new TypeError('Callback must be a function.');e=this.converter.convert(e).CSS,e=`${e}, ${e} *`,g=h=>{h.target.matches(e)&&f(h)}}else g=e;return this.elements.forEach(h=>{h.addEventListener(d,g,!1),'string'==typeof e&&c.add(h,d,e,f,g)}),this},a.BEMQuery.prototype.off=function(d,e,f){let g;if('string'!=typeof d||!d)throw new TypeError('Type of event must be a non-empty string.');if('string'!=typeof e&&'function'!=typeof e||!e)throw new TypeError('Selector must be a non-empty string or function.');if('string'==typeof e){if('function'!=typeof f)throw new TypeError('Callback must be a function.');e=this.converter.convert(e).CSS,e=`${e}, ${e} *`}else g=e;return this.elements.forEach(h=>{'string'==typeof e&&(g=c.get(h,d,e,f),c.remove(h,d,e,f)),h.removeEventListener(d,g,!1)}),this}});
//# sourceMappingURL=bemquery-dom-events.umd.js.map

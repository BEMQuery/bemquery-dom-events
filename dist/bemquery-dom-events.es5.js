!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("bemquery-core")):"function"==typeof define&&define.amd?define(["bemquery-core"],t):t(e.bemquery)}(this,function(e){"use strict";var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this.storage=new WeakMap}return n(e,[{key:"add",value:function(e,t,n,r,o){var i={};this.storage.has(e)&&(i=this.storage.get(e)),"undefined"==typeof i[t]&&(i[t]={}),"undefined"==typeof i[t][n]&&(i[t][n]=[]),i[t][n].push([r,o]),this.storage.set(e,i)}},{key:"get",value:function(e,t,n,r){if(!this.storage.has(e))return null;var o=this.storage.get(e);if("undefined"==typeof o[t]||"undefined"==typeof o[t][n])return null;var i=!0,f=!1,u=void 0;try{for(var a,s=o[t][n][Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var y=a.value;if(y[0]===r)return y[1]}}catch(e){f=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(f)throw u}}return null}},{key:"remove",value:function(e,t,n,r){if(!this.storage.has(e))return null;var o=this.storage.get(e);return"undefined"==typeof o[t]||"undefined"==typeof o[t][n]?null:(o[t][n].forEach(function(e,i){e[0]===r&&o[t][n].splice(i,1)}),null)}}]),e}(),o=new r;e.BEMQuery.prototype.on=function(e,t,n){var r=void 0;if("string"!=typeof e||!e)throw new TypeError("Type of event must be a non-empty string.");if("string"!=typeof t&&"function"!=typeof t||!t)throw new TypeError("Selector must be a non-empty string or function.");if("string"==typeof t){if("function"!=typeof n)throw new TypeError("Callback must be a function.");t=this.converter.convert(t).CSS,t=t+", "+t+" *",r=function(e){e.target.matches(t)&&n(e)}}else r=t;return this.elements.forEach(function(i){i.addEventListener(e,r,!1),"string"==typeof t&&o.add(i,e,t,n,r)}),this},e.BEMQuery.prototype.off=function(e,t,n){var r=void 0;if("string"!=typeof e||!e)throw new TypeError("Type of event must be a non-empty string.");if("string"!=typeof t&&"function"!=typeof t||!t)throw new TypeError("Selector must be a non-empty string or function.");if("string"==typeof t){if("function"!=typeof n)throw new TypeError("Callback must be a function.");t=this.converter.convert(t).CSS,t=t+", "+t+" *"}else r=t;return this.elements.forEach(function(i){"string"==typeof t&&(r=o.get(i,e,t,n),o.remove(i,e,t,n)),i.removeEventListener(e,r,!1)}),this}});
//# sourceMappingURL=bemquery-dom-events.es5.js.map
